<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>HEXO_NEXT 主题美化</title>
    <url>/2020/07/09/HEXO-NEXT-%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<p>建好网站之后第一件事是什么？写博客？no no no，当然是换皮肤啦<del>~</del></p>
<a id="more"></a>

<h3 id="安装NEXT"><a href="#安装NEXT" class="headerlink" title="安装NEXT"></a>安装NEXT</h3><p>Hexo搭完框架之后显示的是默认主题，可以自行更换<a href="https://hexo.io/themes/" target="_blank" rel="noopener">主题</a>。这里我选择的主题是NEXT，这款主题用的人比较多，所以如果你遇到什么问题，基本都可以在网上找到解决方案。</p>
<p>进入blog文件夹，Git Bash Here，输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-theme-next themes&#x2F;next</span><br></pre></td></tr></table></figure>

<p>即可安装NEXT</p>
<h3 id="设置Hexo的next主题"><a href="#设置Hexo的next主题" class="headerlink" title="设置Hexo的next主题"></a>设置Hexo的next主题</h3><p>在站点配置文件_config.yml中找到theme后添加：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">theme: next  # 配置成刚下载的next主题</span><br></pre></td></tr></table></figure>

<h3 id="配置hexo网站相关信息"><a href="#配置hexo网站相关信息" class="headerlink" title="配置hexo网站相关信息"></a>配置hexo网站相关信息</h3><p>在站点配置文件_config.yml中修改：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Site</span><br><span class="line">title:          # 网站标题</span><br><span class="line">subtitle:       # 网站副标题</span><br><span class="line">description:    # 描述，介绍网站的</span><br><span class="line">keywords:       # 网站的关键字</span><br><span class="line">author:         # 博主姓名</span><br><span class="line">language: zh-CN # 语言：zh-CN 是简体中文</span><br><span class="line">timezone: &#39;Asia&#x2F;Shanghai&#39;   # 时区</span><br></pre></td></tr></table></figure>

<h3 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h3><p>next在配置主题的过程中通常会遇到的一个问题就是，next中间有过一次大版本更新，配置主题的方式发生了一些变化，譬如很多教程提到的为博客更换背景图片需要在文件夹_custom中操作，而更新后的next是没有这个文件夹的，这里介绍一下新版本next的配置方式。</p>
<ol>
<li>在hexo/source/_data目录创建next.yml(如果 _data不存在，则创建目录)。</li>
<li>将blog/themes/next/config.yml 中的所有内容复制到 hexo/source/data/next.yml 中</li>
<li>在next.yml中设置override选项为true</li>
</ol>
<p>之后所有的主题配置操作都在next.yml中完成。</p>
<h4 id="配置菜单"><a href="#配置菜单" class="headerlink" title="配置菜单"></a>配置菜单</h4><p>默认的主题配置文件中，菜单只开启了首页和归档，我们根据需要，可以添加其他菜单，在配置文件中将对应选项取消注释即可。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 菜单设置为 菜单名: &#x2F;菜单目录 || 菜单图标名字</span><br><span class="line">menu:</span><br><span class="line">  home: &#x2F; || home</span><br><span class="line">  about: &#x2F;about&#x2F; || user</span><br><span class="line">  tags: &#x2F;tags&#x2F; || tags</span><br><span class="line">  categories: &#x2F;categories&#x2F; || th</span><br><span class="line">  archives: &#x2F;archives&#x2F; || archive</span><br><span class="line">  #schedule: &#x2F;schedule&#x2F; || calendar</span><br><span class="line">  sitemap: &#x2F;sitemap.xml || sitemap</span><br><span class="line">  commonweal: &#x2F;404&#x2F; || heartbeat</span><br><span class="line"></span><br><span class="line">menu_settings:</span><br><span class="line">  icons: true   # 显示图标</span><br><span class="line">  badges: true  # 显示统计信息</span><br></pre></td></tr></table></figure>

<p>注：hexo所有图标均来自<a href="https://fontawesome.com/6?next=%2F" target="_blank" rel="noopener">fontawesome</a>，其中 | | 后面是你想要设置的图标的名字，如果你想要更换图标，可以在网站上搜索你想要的图标，替换相应名称即可。</p>
<h4 id="手动生成hexo菜单对应文件"><a href="#手动生成hexo菜单对应文件" class="headerlink" title="手动生成hexo菜单对应文件"></a>手动生成hexo菜单对应文件</h4><p>新菜单开启后是没有对应文件的，所以要手动生成about、tags、categories、404等页面。</p>
<h5 id="新建about页面"><a href="#新建about页面" class="headerlink" title="新建about页面"></a>新建<code>about</code>页面</h5><p><code>about</code>页面一般用来介绍站点信息和博主信息。</p>
<p>我们可以输入以下命令新建页面</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page about</span><br></pre></td></tr></table></figure>

<p>然后你就会发现多了一个hexo / source / about 文件夹，里面有一个<code>index.md</code>文件，你可以根据自己的需要在这个Markdown文件中写一些内容（同文章一样，用Markdown语法）。</p>
<h5 id="新建一个tags页面"><a href="#新建一个tags页面" class="headerlink" title="新建一个tags页面"></a>新建一个<code>tags</code>页面</h5><p>同样的，我们也可以新建 <code>tags</code> 页面：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure>

<p>在 <code>tags</code> 页面文件 <code>hexo / source / tags / index.md</code>的头部修改为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2019-06-29 11:35:42   # 时间随意</span><br><span class="line">type: &quot;tags&quot;                # 类型一定要为tags</span><br><span class="line">comments: false             # 提示这个页面不需要加载评论</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h5 id="新建一个categories页面"><a href="#新建一个categories页面" class="headerlink" title="新建一个categories页面"></a>新建一个<code>categories</code>页面</h5><p>同样的，我们可以新建<code>categories</code>页面：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure>

<p>在<code>categories</code>页面文件 <code>hexo / source / categories / index.md</code> 的头部修改为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章分类</span><br><span class="line">date: 2018-10-15 00:03:57</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<h5 id="新建一个404页面"><a href="#新建一个404页面" class="headerlink" title="新建一个404页面"></a>新建一个404页面</h5><p>这里我们将 404 替换成腾讯的公益页面。</p>
<p>首先我们在 <code>hexo / source</code>目录下创建自己的<code>404.html</code>：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;404&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;&#x2F;qzonestyle.gtimg.cn&#x2F;qzone&#x2F;hybrid&#x2F;app&#x2F;404&#x2F;search_children.js&quot; charset&#x3D;&quot;utf-8&quot; homePageUrl&#x3D;&quot;&#x2F;&quot; homePageName&#x3D;&quot;返回&quot;&gt;&lt;&#x2F;script&gt; </span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：Hexo 博客的基本内容是一些 Markdown 文件，放在 <code>source/_post</code> 文件夹下，每个文件对应一篇文章。除此之外，放在 source 文件夹下的所有开头不是下划线的文件，在 <code>hexo generate</code> 的时候，都会被拷贝到 public 文件夹下。但是，Hexo 默认会渲染所有的 HTML 和 Markdown 文件。</p>
</blockquote>
<p>因此我们可以简单地在开头加上<code>layout：false</code>一行来避免渲染。</p>
<p>这样我们就完成了404页面的创建。</p>
<p>注意：本地测试不出来，发不出来就可以了。</p>
<h4 id="配置hexo本地搜索"><a href="#配置hexo本地搜索" class="headerlink" title="配置hexo本地搜索"></a>配置hexo本地搜索</h4><p>首先安装插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<p>然后在站点配置文件<code>_config.yml</code>中添加以下内容</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 本地搜索</span><br><span class="line">search:</span><br><span class="line">  path: search.xml  # 索引文件的路径，相当于站点根目录</span><br><span class="line">  field: post  # 搜索范围，默认是post，还可以选择page、all，设置成all表示搜索所有界面</span><br><span class="line">  format: html</span><br><span class="line">  limit: 100  # 限制搜索的条目数</span><br></pre></td></tr></table></figure>

<p>然后修改主题配置文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Local Search</span><br><span class="line"># Dependencies: https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-generator-searchdb</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  # If auto, trigger search by changing input.</span><br><span class="line">  # If manual, trigger search by pressing enter key or search button.</span><br><span class="line">  trigger: auto</span><br><span class="line">  # Show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br><span class="line">  # Unescape html strings to the readable one.</span><br><span class="line">  unescape: false</span><br><span class="line">  # Preload the search data when the page loads.</span><br><span class="line">  preload: false</span><br></pre></td></tr></table></figure>

<h4 id="配置博客底部显示信息"><a href="#配置博客底部显示信息" class="headerlink" title="配置博客底部显示信息"></a>配置博客底部显示信息</h4><p>通过修改<code>next.yml</code>中的<code>footer</code>选项可以修改底部开关显示hexo信息、theme信息、建站时间等个性化配置。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">footer:</span><br><span class="line">  since: 2018        # 建站开始时间</span><br><span class="line">  icon:</span><br><span class="line">    name: user       # 设置 建站初始时间和至今时间中间的图标，默认是一个&#39;小人像&#39;，更改user为heart可以变成一个心</span><br><span class="line">    animated: true</span><br><span class="line">    color: &quot;#808080&quot; # 更改图标的颜色，红色为&#39;#ff0000&#39;</span><br><span class="line">  powered:</span><br><span class="line">    enable: true     # 开启hexo驱动</span><br><span class="line">    version: true    # 开启hexo版本号</span><br><span class="line">  theme:</span><br><span class="line">    enable: true     # 开启主题驱动</span><br><span class="line">    version: true    # 开启主题版本号</span><br><span class="line">  custom_text: Hosted by &lt;a target&#x3D;&quot;_blank&quot; rel&#x3D;&quot;external nofollow&quot; href&#x3D;&quot;https:&#x2F;&#x2F;pages.coding.me&quot;&gt;&lt;b&gt;Coding Pages&lt;&#x2F;b&gt;&lt;&#x2F;a&gt; # 这里的底部标识是为了添加coding page服务时的版权声明 打开注释就可以看到底部有一个 hosted by coding pages</span><br></pre></td></tr></table></figure>

<h4 id="配置hexo中next主题样式选择"><a href="#配置hexo中next主题样式选择" class="headerlink" title="配置hexo中next主题样式选择"></a>配置hexo中next主题样式选择</h4><p>NexT一共提供了4种首页样式可供选择，取消所选的主题样式前<code>#</code>号并注释掉其他样式即可。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Schemes</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">#scheme: Pisces</span><br><span class="line">scheme: Gemini</span><br></pre></td></tr></table></figure>

<h4 id="头像信息设置"><a href="#头像信息设置" class="headerlink" title="头像信息设置"></a>头像信息设置</h4><p>在<code>next.yml</code>中修改配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  url: &#x2F;images&#x2F;avatar.jpg  # 设置头像资源的位置</span><br><span class="line">  rounded: true            # 开启圆形头像</span><br><span class="line">  opacity: 1               # 不透明的比例：0就是完全透明</span><br><span class="line">  rotated: false           # 不开启旋转</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里解释一下，博客中的图片资源有两种引用方式，一种是放在本地的<code>blog/themes/next/source/images</code>文件夹中，引用时填写存储路径即可。第二种方式是将图片上传到图床中，引用时填写图片的 url 。如果图片少的话可以放在本地，但是如果图片较多，就是导致网站打开速度变慢等问题，后面会介绍将GitHub作为图床的方法。</p>
</blockquote>
<h4 id="背景图片设置"><a href="#背景图片设置" class="headerlink" title="背景图片设置"></a>背景图片设置</h4><p>将你的背景图片放入上述的文件夹中，然后再<code>_data</code>目录下新建<code>styles.styl</code>文件，添加：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    background:url(&#x2F;images&#x2F;yourbackground.jpg);  # 图片路径</span><br><span class="line">    background-repeat: no-repeat;  # 若背景图片不能全屏，那么是否平铺显示，充满屏幕</span><br><span class="line">    background-attachment:fixed;  # 背景是否随着网页上下滚动而滚动，fixed为固定</span><br><span class="line">    background-size: cover;  # 图片展示大小，这里设置为100%，若图片不能全屏，就会强制拉伸至全屏展示</span><br><span class="line">    background-position:50% 50%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="博客内容透明化"><a href="#博客内容透明化" class="headerlink" title="博客内容透明化"></a>博客内容透明化</h4><p>在<code>styles.styl</code>中添加以下内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;博客内容透明化</span><br><span class="line">&#x2F;&#x2F;文章内容的透明度设置</span><br><span class="line">.content-wrap &#123;</span><br><span class="line">  opacity: 0.9;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;侧边框的透明度设置</span><br><span class="line">.sidebar &#123;</span><br><span class="line">  opacity: 0.9;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;菜单栏的透明度设置</span><br><span class="line">.header-inner &#123;</span><br><span class="line">  background: rgba(255,255,255,0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;搜索框（local-search）的透明度设置</span><br><span class="line">.popup &#123;</span><br><span class="line">  opacity: 0.9;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意，这里设置完之后要看一下<code>next.yml</code>中对应的选项是否已经取消注释，如果选项被注释掉的话，这里的配置文件是不会生效的。</p>
</blockquote>
<h4 id="社交信息"><a href="#社交信息" class="headerlink" title="社交信息"></a>社交信息</h4><p>和菜单设置格式一样，在<code>next.yml</code>中修改：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">social: </span><br><span class="line">  GitHub: https:&#x2F;&#x2F;github.com&#x2F;yourname || github</span><br><span class="line">  E-Mail: mailto:yourname@gmail.com || envelope</span><br><span class="line">  Google: https:&#x2F;&#x2F;plus.google.com&#x2F;yourname || google</span><br><span class="line"></span><br><span class="line">social_icons:</span><br><span class="line">  enable: true      # 显示社交图标</span><br><span class="line">  icons_only: false # 只显示图标，不显示文字</span><br></pre></td></tr></table></figure>

<h4 id="首页文章属性"><a href="#首页文章属性" class="headerlink" title="首页文章属性"></a>首页文章属性</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  item_text: false    # 设为true 可以一行显示，文章的所有属性</span><br><span class="line">  created_at: true    # 显示创建时间</span><br><span class="line">  updated_at:</span><br><span class="line">    enabled: true     # 显示修改的时间</span><br><span class="line">    another_day: true # 设true时，如果创建时间和修改时间一样则显示一个时间</span><br><span class="line">  categories: true    # 显示分类信息</span><br></pre></td></tr></table></figure>

<h4 id="页面阅读统计"><a href="#页面阅读统计" class="headerlink" title="页面阅读统计"></a>页面阅读统计</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">busuanzi_count:</span><br><span class="line">  enable: false              # 设true 开启</span><br><span class="line">  total_visitors: true       # 总阅读人数（uv数）</span><br><span class="line">  total_visitors_icon: user  # 阅读总人数的图标</span><br><span class="line">  total_views: true          # 总阅读次数（pv数）</span><br><span class="line">  total_views_icon: eye      # 阅读总次数的图标</span><br><span class="line">  post_views: true           # 开启内容阅读次数</span><br><span class="line">  post_views_icon: eye       # 内容页阅读数的图标</span><br></pre></td></tr></table></figure>

<h4 id="字数统计、阅读时长"><a href="#字数统计、阅读时长" class="headerlink" title="字数统计、阅读时长"></a>字数统计、阅读时长</h4><p>首先安装插件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure>

<p>主题配置文件<code>next.yml</code>修改如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: true  # false会显示一行</span><br><span class="line">  item_text_post: true  # 显示属性名称,设为false后只显示图标和统计数字,不显示属性的文字</span><br><span class="line">  item_text_total: true # 底部footer是否显示字数统计属性文字</span><br><span class="line">  awl: 4                # 计算字数的一个设置,没设置过</span><br><span class="line">  wpm: 275              # 一分钟阅读的字数</span><br></pre></td></tr></table></figure>

<p>站点配置文件<code>_config.yml</code>新增如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line"> #文章内是否显示</span><br><span class="line">  symbols: true</span><br><span class="line">  time: true</span><br><span class="line"> # 网页底部是否显示</span><br><span class="line">  total_symbols: true</span><br><span class="line">  total_time: true</span><br></pre></td></tr></table></figure>

<h4 id="代码块复制按钮"><a href="#代码块复制按钮" class="headerlink" title="代码块复制按钮"></a>代码块复制按钮</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">codeblock:</span><br><span class="line">  # Code Highlight theme</span><br><span class="line">  # Available values: normal | night | night eighties | night blue | night bright | solarized | solarized dark | galactic</span><br><span class="line">  # See: https:&#x2F;&#x2F;github.com&#x2F;chriskempson&#x2F;tomorrow-theme</span><br><span class="line">  highlight_theme: normal</span><br><span class="line">  # Add copy button on codeblock</span><br><span class="line">  copy_button:</span><br><span class="line">    enable: true  # 开启复制按钮</span><br><span class="line">    # Show text copy result.</span><br><span class="line">    show_result: true  # 显示复制结果</span><br><span class="line">    # Available values: default | flat | mac</span><br><span class="line">    style: default</span><br></pre></td></tr></table></figure>

<h4 id="中文翻译"><a href="#中文翻译" class="headerlink" title="中文翻译"></a>中文翻译</h4><p>这部分原来是在配置主题下的<code>language</code>目录中的<code>zh-CN.yml</code>文件来对菜单进行中文翻译的，现在在<code>hexo/source/_data/</code>下新建数据文件<code>language.yml</code>，配置如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">zh-CN: </span><br><span class="line">  menu:</span><br><span class="line">    home: 首页</span><br><span class="line">    top: 热榜</span><br><span class="line">    archives: 归档</span><br><span class="line">    categories: 分类</span><br><span class="line">    tags: 标签</span><br><span class="line">    about: 关于</span><br><span class="line">    search: 搜索</span><br><span class="line">    schedule: 日程表</span><br><span class="line">    sitemap: 站点地图</span><br><span class="line">    commonweal: 公益 404</span><br><span class="line">    movies: 观影</span><br><span class="line">    books: 阅读</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果后面新增添了别的菜单选项，可以在这里添加新的翻译</p>
</blockquote>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>注意<code>next.yml</code>中的这一段代码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">custom_file_path:</span><br><span class="line">  #head: source&#x2F;_data&#x2F;head.swig</span><br><span class="line">  #header: source&#x2F;_data&#x2F;header.swig</span><br><span class="line">  sidebar: source&#x2F;_data&#x2F;sidebar.swig</span><br><span class="line">  #postMeta: source&#x2F;_data&#x2F;post-meta.swig</span><br><span class="line">  #postBodyEnd: source&#x2F;_data&#x2F;post-body-end.swig</span><br><span class="line">  footer: source&#x2F;_data&#x2F;footer.swig</span><br><span class="line">  bodyEnd: source&#x2F;_data&#x2F;body-end.swig</span><br><span class="line">  variable: source&#x2F;_data&#x2F;variables.styl</span><br><span class="line">  #mixin: source&#x2F;_data&#x2F;mixins.styl</span><br><span class="line">  style: source&#x2F;_data&#x2F;styles.styl</span><br></pre></td></tr></table></figure>

<p>这些配置原来都是在主题配置内完成的，版本更新后我们如果要修改相应配置，就新建相应的文件放在<code>_data</code>目录下，然后在这一段代码中取消相应的注释即可。</p>
<h4 id="如：圆角设置"><a href="#如：圆角设置" class="headerlink" title="如：圆角设置"></a>如：圆角设置</h4><p>在<code>_data</code>目录下新建<code>variables.styl</code>文件，在文件中添加：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; 圆角设置</span><br><span class="line">$border-radius-inner     &#x3D; 20px 20px 20px 20px;</span><br><span class="line">$border-radius           &#x3D; 20px;</span><br></pre></td></tr></table></figure>

<p>然后取消<code>next.yml</code>中<code>variable</code>的注释。</p>
<p>在设置圆角之后可能会出现左侧侧边栏出现白块的问题，解决方法为在<code>source/_data/styles.styl</code>中（若没有该文件则新建一个）添加如下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.sidebar &#123;</span><br><span class="line">box-shadow: none</span><br><span class="line">background: none</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>HEXO建站指南</title>
    <url>/2020/07/07/HEXO%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<p>之前一直有自己写个博客的想法，但是因为拖延症的原因一直延误至今，暑假的时候花了半天时间研究了一下，发现有很成熟的解决方案，静态博客用html+css写的话十分方便，于是就建了自己的第一个博客网站，中间也踩了一些坑，把整个过程写在下面。</p>
<p>(ps：建好博客之后，我拖了半个月才开始写这第一篇博客:))</p>
<a id="more"></a>

<h3 id="HEXO"><a href="#HEXO" class="headerlink" title="HEXO"></a>HEXO</h3><p><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexo</a>是一款基于Node.js的快速、简洁且高效的博客框架，倚赖少，易于安装使用，可以方便地生成静态网页托管在GitHub或者其他网站上，或者放在自己的服务器上，是比较方便的博客框架。</p>
<h3 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h3><p>搭建博客首先需要一个域名，作为你博客的入口。常见的有.com, .cn等后缀，越主流的后缀价格越高，略冷僻一点的域名后缀如.xyz，.icu等价格就十分低廉，简直是白菜价。如果你想把你的博客放在国内的服务器上，就需要将域名进行备案。这里我们选择将博客托管在GitHub上，由于GitHub的服务器在美国，这样就不需要对域名进行备案。</p>
<p>申请域名的地方有很多，我是在<a href="https://www.aliyun.com/" target="_blank" rel="noopener">阿里云</a>申请的域名，也可以自行在其他地方申请，根据实际情况选择。域名是整个建站过程中唯一需要花钱的地方，其他步骤均不需要。</p>
<h3 id="GitHub创建仓库"><a href="#GitHub创建仓库" class="headerlink" title="GitHub创建仓库"></a>GitHub创建仓库</h3><p>如果你没有<a href="https://GitHub.com/" target="_blank" rel="noopener">GitHub</a>账号，使用你的邮箱注册GitHub。然后登录到GitHub，点击页面左侧的New repository创建一个新的仓库，仓库名为  用户名.GitHub.io，这里的用户名为你的GitHub账户名称，这样建立仓库之后，你就可以通过直接访问  用户名.GitHub.io  来访问你的博客。</p>
<h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><p>Git是一种开源的分布式版本控制系统，用于高效敏捷地处理项目。在本地搭建好博客之后，需要通过Git同步到GitHub上，想要详细了解Git，可以参见<a href="https://www.liaoxuefeng.com/wiki/896043488029600" target="_blank" rel="noopener">廖雪峰老师的Git教程</a>。从Git官网下载<a href="https://git-scm.com/download/win" target="_blank" rel="noopener">Git安装包</a>，下载后安装。安装完成后，在命令行中输入git测试是否安装成功。</p>
<p>安装成功后，将你的Git和你的GitHub账号绑定，鼠标右击打开Git Bash Here，设置配置信息。</p>
<p>首先输入你的用户名</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;你的GitHub用户名&quot;</span><br></pre></td></tr></table></figure>

<p>然后输入邮箱地址</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config --global user.email &quot;你的GitHub注册邮箱&quot;</span><br></pre></td></tr></table></figure>

<p>这两行代码每次推送时都是调用，用来确定推送者的身份信息。</p>
<p>生成ssh密钥文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;你的GitHub注册邮箱&quot;</span><br></pre></td></tr></table></figure>

<p>直接三个回车即可，默认不需要设置密码。</p>
<p>然后在找到生成的.ssh文件夹中的id_rsa.pub密钥(若找不到说明生成失败，请重复本步内容)，将内容全部复制</p>
<p>打开<a href="https://github.com/settings/keys" target="_blank" rel="noopener">GitHub_Settings_keys</a>，新建new SSH Key</p>
<p>Title为标题，任意填写，将刚刚复制的id_rsa.pub内容粘贴进去，然后点击Add SSH key。</p>
<p>在Git Bash中检测GitHub公钥设置是否成功</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh git@github.com</span><br></pre></td></tr></table></figure>

<p>这里设置GitHub密钥的原因为，通过非对称加密的公钥和私钥来完成加密，公钥放置在GitHub上，私钥放置在自己的电脑里。GitHub每次推送都要求是合法用户，所以每次推送都需要输入账号密码验证推送用户是否为合法用户。</p>
<p>为了省去每次输密码的步骤，采用了ssh。当你推送的时候，git就会匹配你的私钥和GitHub上的公钥是否匹配，若是匹配就认为你是合法用户，则允许推送。这样就保证每次的推送都是正确合法的。</p>
<h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><p>Hexo基于Node.js，Node.js下载地址：<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">Download | Node.js</a>下载安装包，注意安装Node.js会包含环境变量以及npm的安装。安装后，检测Node.js是否安装成功，在命令行中输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>

<p>检测npm是否安装成功</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200708185619.png" alt=""></p>
<p>在命令行中输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200708185705.png" alt=""></p>
<p>至此为止，安装Hexo的环境已经全部搭建完成</p>
<h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><p>Hexo就是我们的个人博客网站的框架，这里需要自己在电脑里创建一个文件夹，可以命名为Blog。Hexo框架与以后你自己发布的网页都在这个文件夹中。创建好后，进入文件夹中，右键Git Bash Here</p>
<p>使用npm命令安装Hexo，输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<p>安装完成后，初始化博客，输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure>

<p>注意，这里的命令都是作用在刚刚创建的Blog文件夹中。</p>
<p>为了检测我们的网站雏形，分别按顺序输入一下三条命令</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new test_my_site</span><br><span class="line"></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>这些命令在后面作介绍，完成后，打开浏览器输入网址：</p>
<p>localhost:4000</p>
<p>就可以看到我们的第一篇博客</p>
<p>如果无法打开网页，可能是你电脑的4000端口被占用，换一个端口即可，端口号可以任意输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo s -p 2333</span><br></pre></td></tr></table></figure>

<p>现在来介绍常用的Hexo 命令</p>
<p>npm install hexo -g #安装Hexo<br>npm update hexo -g #升级<br>hexo init #初始化博客</p>
<p>命令简写<br>hexo n “我的博客” == hexo new “我的博客” #新建文章<br>hexo g == hexo generate #生成<br>hexo s == hexo server #启动服务预览<br>hexo d == hexo deploy #部署</p>
<p>hexo server #Hexo会监视文件变动并自动更新，无须重启服务器<br>hexo server -s #静态模式<br>hexo server -p 5000 #更改端口<br>hexo server -i 192.168.1.1 #自定义 IP<br>hexo clean #清除缓存，若是网页正常情况下可以忽略这条命令</p>
<p>刚刚的三个命令依次是新建一篇博客文章、生成网页、在本地预览的操作</p>
<h3 id="推送网站"><a href="#推送网站" class="headerlink" title="推送网站"></a>推送网站</h3><p>上面的操作只是在本地预览，接下来要做的就是推送网站，让我们的网站可以让更多人访问。</p>
<p>在此说明一下，在blog根目录里的_config.yml文件称为站点配置文件</p>
<p>进入根目录里的themes文件夹，里面也有一个_config.yml文件，这个称为主题配置文件</p>
<p>下一步将我们的Hexo与GitHub关联起来，打开站点配置文件_config.yml，拉到最后修改为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">    type: git</span><br><span class="line">    repo: git@github.com:用户名&#x2F;用户名.github.io.git</span><br><span class="line">    branch: master</span><br></pre></td></tr></table></figure>

<p>用户名即为GitHub账户名称，更改后保存站点配置文件。这一步其实就是给hexo d 这个命令做相应的配置，让hexo知道你要把blog部署在哪个位置，很显然，我们部署在我们GitHub的仓库里。</p>
<p>最后安装Git部署插件，输入命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>然后分别输入三条命令</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo d</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure>

<p>完成后，打开浏览器，输入放置博客的GitHub仓库路径，即用户名.github.io，这是博客已经上线，可以在网络上被访问。</p>
<h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><p>虽然在网上可以访问我们的网站，但是网址是GitHub提供的  xxx.github.io  ，而我们想使用自己的个性化域名，这就需要绑定我们自己的域名。这里以阿里云为例，登录到阿里云，进入管理控制台的域名列表，找到你的个性化域名，进入解析，然后添加解析。</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_07aliyun%E8%A7%A3%E6%9E%90.png" alt=""></p>
<p>第一项记录值为你仓库的ip地址，在控制台中输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ping 用户名.github.io</span><br></pre></td></tr></table></figure>

<p>获得你的ip地址填进去，第二项记录值为你的仓库地址。</p>
<p>然后登陆GitHub，进入到之前创建的仓库，点击settings，设置Custom domain, 输入你的域名</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200708185503.png" alt=""></p>
<p>点击save保存。</p>
<p>然后进入本地博客文件夹，进入blog、source目录下，创建一个记事本文件，输入你的域名，保存，命名为CNAME，注意保存为所有文件而不是txt文件。</p>
<p>完成之后，进入 blog目录中，Git Bash Here ，输入</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>这时候打开浏览器在地址栏输入你的域名就会直接进入你搭建的网站。</p>
<p>至此为止，一个简单的个性化博客框架就搭建完毕~</p>
<p>如果你想要写博客的话，直接在Git Bash Here中输入：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new &#39;文章名称&#39;</span><br></pre></td></tr></table></figure>

<p>然后你就会发现在<code>blog/source/_posts</code>目录下生成了一个<code>.md</code>文件，这就是你的博客文件，打开文件以markdown语法输入内容即可。如果你先想将文章的一部分内容显示在主页中，可在任意位置插入<code>&lt;!--more--&gt;</code>即可。</p>
<p>写好博客后，依次输入：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>这样就将你的博客内容推送到了网上，注意，推送可能存在一定的延迟，如果你发现网站内容没有刷新，稍作等待即可。</p>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
  </entry>
  <entry>
    <title>HEXO_NEXT 主题美化化之花活儿</title>
    <url>/2020/07/09/HEXO-NEXT-%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E5%8C%96%E4%B9%8B%E8%8A%B1%E6%B4%BB%E5%84%BF/</url>
    <content><![CDATA[<p>上一篇是一些基础的配置修改，在<code>next.yml</code>中还内置了很多功能，可以自行查看修改。</p>
<p>这篇介绍一些花里胡哨的修改，我们称之为<code>花活儿</code>。</p>
<a id="more"></a>

<h3 id="粒子时钟特效"><a href="#粒子时钟特效" class="headerlink" title="粒子时钟特效"></a>粒子时钟特效</h3><p>在<code>hexo/source/_data/sidebar.swig</code>中添加粒子时钟的js代码(若没有则新建文件)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div style&#x3D;&quot;&quot;&gt;</span><br><span class="line">  &lt;canvas id&#x3D;&quot;canvas&quot; style&#x3D;&quot;width:60%;&quot;&gt;当前浏览器不支持canvas，请更换浏览器后再试&lt;&#x2F;canvas&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">(function()&#123;</span><br><span class="line"></span><br><span class="line">   var digit&#x3D;</span><br><span class="line">    [</span><br><span class="line">        [</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,1,1,0,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,0,1,1,0],</span><br><span class="line">            [0,0,1,1,1,0,0]</span><br><span class="line">        ],&#x2F;&#x2F;0</span><br><span class="line">        [</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,1,1,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [1,1,1,1,1,1,1]</span><br><span class="line">        ],&#x2F;&#x2F;1</span><br><span class="line">        [</span><br><span class="line">            [0,1,1,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,1,1,0,0,0,0],</span><br><span class="line">            [1,1,0,0,0,0,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,1,1,1,1,1]</span><br><span class="line">        ],&#x2F;&#x2F;2</span><br><span class="line">        [</span><br><span class="line">            [1,1,1,1,1,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0]</span><br><span class="line">        ],&#x2F;&#x2F;3</span><br><span class="line">        [</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,1,0],</span><br><span class="line">            [0,0,1,1,1,1,0],</span><br><span class="line">            [0,1,1,0,1,1,0],</span><br><span class="line">            [1,1,0,0,1,1,0],</span><br><span class="line">            [1,1,1,1,1,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,1,1]</span><br><span class="line">        ],&#x2F;&#x2F;4</span><br><span class="line">        [</span><br><span class="line">            [1,1,1,1,1,1,1],</span><br><span class="line">            [1,1,0,0,0,0,0],</span><br><span class="line">            [1,1,0,0,0,0,0],</span><br><span class="line">            [1,1,1,1,1,1,0],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0]</span><br><span class="line">        ],&#x2F;&#x2F;5</span><br><span class="line">        [</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,1,1,0,0,0,0],</span><br><span class="line">            [1,1,0,0,0,0,0],</span><br><span class="line">            [1,1,0,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0]</span><br><span class="line">        ],&#x2F;&#x2F;6</span><br><span class="line">        [</span><br><span class="line">            [1,1,1,1,1,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0]</span><br><span class="line">        ],&#x2F;&#x2F;7</span><br><span class="line">        [</span><br><span class="line">            [0,1,1,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0]</span><br><span class="line">        ],&#x2F;&#x2F;8</span><br><span class="line">        [</span><br><span class="line">            [0,1,1,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,1,1,0,0,0,0]</span><br><span class="line">        ],&#x2F;&#x2F;9</span><br><span class="line">        [</span><br><span class="line">            [0,0,0,0,0,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,0,0,0,0,0],</span><br><span class="line">            [0,0,0,0,0,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,0,0,0,0,0]</span><br><span class="line">        ]&#x2F;&#x2F;:</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">var canvas &#x3D; document.getElementById(&#39;canvas&#39;);</span><br><span class="line"></span><br><span class="line">if(canvas.getContext)&#123;</span><br><span class="line">    var cxt &#x3D; canvas.getContext(&#39;2d&#39;);</span><br><span class="line">    &#x2F;&#x2F;声明canvas的宽高</span><br><span class="line">    var H &#x3D; 100,W &#x3D; 700;</span><br><span class="line">    canvas.height &#x3D; H;</span><br><span class="line">    canvas.width &#x3D; W;</span><br><span class="line">    cxt.fillStyle &#x3D; &#39;#f00&#39;;</span><br><span class="line">    cxt.fillRect(10,10,50,50);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;存储时间数据</span><br><span class="line">    var data &#x3D; [];</span><br><span class="line">    &#x2F;&#x2F;存储运动的小球</span><br><span class="line">    var balls &#x3D; [];</span><br><span class="line">    &#x2F;&#x2F;设置粒子半径</span><br><span class="line">    var R &#x3D; canvas.height&#x2F;20-1;</span><br><span class="line">    (function()&#123;</span><br><span class="line">        var temp &#x3D; &#x2F;(\d)(\d):(\d)(\d):(\d)(\d)&#x2F;.exec(new Date());</span><br><span class="line">        &#x2F;&#x2F;存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成</span><br><span class="line">        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);</span><br><span class="line">    &#125;)();</span><br><span class="line"></span><br><span class="line">    &#x2F;*生成点阵数字*&#x2F;</span><br><span class="line">    function renderDigit(index,num)&#123;</span><br><span class="line">        for(var i &#x3D; 0; i &lt; digit[num].length; i++)&#123;</span><br><span class="line">            for(var j &#x3D; 0; j &lt; digit[num][i].length; j++)&#123;</span><br><span class="line">                if(digit[num][i][j] &#x3D;&#x3D; 1)&#123;</span><br><span class="line">                    cxt.beginPath();</span><br><span class="line">                    cxt.arc(14*(R+2)*index + j*2*(R+1)+(R+1),i*2*(R+1)+(R+1),R,0,2*Math.PI);</span><br><span class="line">                    cxt.closePath();</span><br><span class="line">                    cxt.fill();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;*更新时钟*&#x2F;</span><br><span class="line">    function updateDigitTime()&#123;</span><br><span class="line">        var changeNumArray &#x3D; [];</span><br><span class="line">        var temp &#x3D; &#x2F;(\d)(\d):(\d)(\d):(\d)(\d)&#x2F;.exec(new Date());</span><br><span class="line">        var NewData &#x3D; [];</span><br><span class="line">        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);</span><br><span class="line">        for(var i &#x3D; data.length-1; i &gt;&#x3D;0 ; i--)&#123;</span><br><span class="line">            &#x2F;&#x2F;时间发生变化</span><br><span class="line">            if(NewData[i] !&#x3D;&#x3D; data[i])&#123;</span><br><span class="line">                &#x2F;&#x2F;将变化的数字值和在data数组中的索引存储在changeNumArray数组中</span><br><span class="line">                changeNumArray.push(i+&#39;_&#39;+(Number(data[i])+1)%10);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;增加小球</span><br><span class="line">        for(var i &#x3D; 0; i&lt; changeNumArray.length; i++)&#123;</span><br><span class="line">            addBalls.apply(this,changeNumArray[i].split(&#39;_&#39;));</span><br><span class="line">        &#125;</span><br><span class="line">        data &#x3D; NewData.concat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;*更新小球状态*&#x2F;</span><br><span class="line">    function updateBalls()&#123;</span><br><span class="line">        for(var i &#x3D; 0; i &lt; balls.length; i++)&#123;</span><br><span class="line">            balls[i].stepY +&#x3D; balls[i].disY;</span><br><span class="line">            balls[i].x +&#x3D; balls[i].stepX;</span><br><span class="line">            balls[i].y +&#x3D; balls[i].stepY;</span><br><span class="line">            if(balls[i].x &gt; W + R || balls[i].y &gt; H + R)&#123;</span><br><span class="line">                balls.splice(i,1);</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;*增加要运动的小球*&#x2F;</span><br><span class="line">    function addBalls(index,num)&#123;</span><br><span class="line">        var numArray &#x3D; [1,2,3];</span><br><span class="line">        var colorArray &#x3D;  [&quot;#3BE&quot;,&quot;#09C&quot;,&quot;#A6C&quot;,&quot;#93C&quot;,&quot;#9C0&quot;,&quot;#690&quot;,&quot;#FB3&quot;,&quot;#F80&quot;,&quot;#F44&quot;,&quot;#C00&quot;];</span><br><span class="line">        for(var i &#x3D; 0; i &lt; digit[num].length; i++)&#123;</span><br><span class="line">            for(var j &#x3D; 0; j &lt; digit[num][i].length; j++)&#123;</span><br><span class="line">                if(digit[num][i][j] &#x3D;&#x3D; 1)&#123;</span><br><span class="line">                    var ball &#x3D; &#123;</span><br><span class="line">                        x:14*(R+2)*index + j*2*(R+1)+(R+1),</span><br><span class="line">                        y:i*2*(R+1)+(R+1),</span><br><span class="line">                        stepX:Math.floor(Math.random() * 4 -2),</span><br><span class="line">                        stepY:-2*numArray[Math.floor(Math.random()*numArray.length)],</span><br><span class="line">                        color:colorArray[Math.floor(Math.random()*colorArray.length)],</span><br><span class="line">                        disY:1</span><br><span class="line">                    &#125;;</span><br><span class="line">                    balls.push(ball);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;*渲染*&#x2F;</span><br><span class="line">    function render()&#123;</span><br><span class="line">        &#x2F;&#x2F;重置画布宽度，达到清空画布的效果</span><br><span class="line">        canvas.height &#x3D; 100;</span><br><span class="line">        &#x2F;&#x2F;渲染时钟</span><br><span class="line">        for(var i &#x3D; 0; i &lt; data.length; i++)&#123;</span><br><span class="line">            renderDigit(i,data[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        &#x2F;&#x2F;渲染小球</span><br><span class="line">        for(var i &#x3D; 0; i &lt; balls.length; i++)&#123;</span><br><span class="line">            cxt.beginPath();</span><br><span class="line">            cxt.arc(balls[i].x,balls[i].y,R,0,2*Math.PI);</span><br><span class="line">            cxt.fillStyle &#x3D; balls[i].color;</span><br><span class="line">            cxt.closePath();</span><br><span class="line">            cxt.fill();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    clearInterval(oTimer);</span><br><span class="line">    var oTimer &#x3D; setInterval(function()&#123;</span><br><span class="line">        &#x2F;&#x2F;更新时钟</span><br><span class="line">        updateDigitTime();</span><br><span class="line">        &#x2F;&#x2F;更新小球状态</span><br><span class="line">        updateBalls();</span><br><span class="line">        &#x2F;&#x2F;渲染</span><br><span class="line">        render();</span><br><span class="line">    &#125;,50);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Hexo加入豆瓣读书页面"><a href="#Hexo加入豆瓣读书页面" class="headerlink" title="Hexo加入豆瓣读书页面"></a>Hexo加入豆瓣读书页面</h3><p>首先安装模块<a href="https://github.com/mythsman/hexo-douban" target="_blank" rel="noopener">hexo_douban</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-douban --save</span><br></pre></td></tr></table></figure>

<p>将下面的配置写入站点的配置文件<code>config.yml</code>中</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">douban:</span><br><span class="line">  user: mythsman</span><br><span class="line">  builtin: false</span><br><span class="line">  book:</span><br><span class="line">    title: &#39;This is my book title&#39;</span><br><span class="line">    quote: &#39;This is my book quote&#39;</span><br><span class="line">  movie:</span><br><span class="line">    title: &#39;This is my movie title&#39;</span><br><span class="line">    quote: &#39;This is my movie quote&#39;</span><br><span class="line">  game:</span><br><span class="line">    title: &#39;This is my game title&#39;</span><br><span class="line">    quote: &#39;This is my game quote&#39;</span><br><span class="line">  timeout: 10000</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>user: 你的豆瓣 ID. 打开豆瓣，登入账户，然后在右上角点击 “个人主页” ，这时候地址栏的 URL 大概是这样：”<code>https://www.douban.com/people/xxxxxx/</code>“，其中的”xxxxxx” 就是你的个人 ID 了。</li>
<li>builtin: 是否将生成页面的功能嵌入 <code>hexo s</code> 和 <code>hexo g</code> 中，默认是 false, 另一可选项为 true (1.x.x 版本新增配置项)。</li>
<li>title: 该页面的标题。</li>
<li>quote: 写在页面开头的一段话，支持 html 语法。</li>
<li>timeout: 爬取数据的超时时间，默认是 10000ms , 如果在使用时发现报了超时的错 (ETIMEOUT) 可以把这个数据设置的大一点。</li>
</ul>
<p>​       如果只想显示某一个页面 (比如 movie)，那就把其他的配置项注释掉即可。</p>
</blockquote>
<p>然后在Git Bash中分别输入以下命令</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo douban -bgm</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在<code>hexo douban -bgm</code>命令中，bgm代表的是book、game、movie三个参数，如果只需要其中的一部分就只要带你想要的那些参数</p>
<p>注意：由于<code>hexo douban</code>的简写也是<code>hexo d</code>，与<code>hexo deploy</code>的简写指令<code>hexo d</code>冲突，因此在进行二者部署的时候，都只能打全名而不能打简写模式</p>
</blockquote>
<p>上面都没问题之后，只需要在站点目录下测试<code>http://localhost:4000/books</code>或者<code>https://localhost:4000/movies</code>，如果看到页面就说明成功了。</p>
<p>然后在菜单栏添加按钮，打开<code>next.yml</code>，找到菜单按钮，添加下面内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  movies: &#x2F;movies&#x2F; || film</span><br><span class="line">  books: &#x2F;books&#x2F; || book</span><br></pre></td></tr></table></figure>

<p>然后在<code>language.yml</code>中添加对应的中文参数信息：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  movies: 观影</span><br><span class="line">  books: 阅读</span><br></pre></td></tr></table></figure>

<p>至此，我们就完成了豆瓣读书页面的添加。</p>
<h3 id="开启评论功能"><a href="#开启评论功能" class="headerlink" title="开启评论功能"></a>开启评论功能</h3><p>这里使用Valine评论服务，还有很多其他的途径，可以自行选用。</p>
<p>首先注册<a href="https://www.leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a>账号。</p>
<p>注册完以后创建一个应用，进入应用—&gt;设置—&gt;应用key，得到appid、appkey。</p>
<blockquote>
<p>注册完以后需要创建一个应用，然后 <strong>进入应用 -&gt; 设置 -&gt; 应用 key</strong>，得到 appid、appkey。</p>
<p>在 <code>LeanCloud -&gt; 存储 -&gt; 创建Class -&gt; 无限制的Class</code>，class 名称为：Comment，这是用来存放评论信息的。</p>
<p>在 <code>LeanCloud-设置</code>，把除<strong>数据存储</strong>外其他选项都关闭。</p>
<p>注意：我们需要在 <code>Leancloud -&gt; 设置 -&gt; 安全中心 -&gt; Web 安全域名</code>把你的域名加进去。</p>
</blockquote>
<p>然后在<code>next.yml</code>中进行配置：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Valine</span><br><span class="line"># You can get your appid and appkey from https:&#x2F;&#x2F;leancloud.cn</span><br><span class="line"># More info available at https:&#x2F;&#x2F;valine.js.org</span><br><span class="line">valine:</span><br><span class="line">  enable: true # When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version.</span><br><span class="line">  appid:  # your leancloud application appid  # 填入上一步得到的appid</span><br><span class="line">  appkey:  # your leancloud application appkey  # 以及appkey</span><br><span class="line">  notify: true # mail notifier, See: https:&#x2F;&#x2F;github.com&#x2F;xCss&#x2F;Valine&#x2F;wiki</span><br><span class="line">  verify: false # Verification code</span><br><span class="line">  placeholder: &#39;ヾﾉ≧∀≦)o来啊，快活啊!&#39; # comment box placeholder</span><br><span class="line">  avatar: mm # gravatar style</span><br><span class="line">  guest_info: nick,mail,link # custom comment header</span><br><span class="line">  pageSize: 10 # pagination size</span><br><span class="line">  language: zh-cn # language, available values: en, zh-cn</span><br><span class="line">  visitor: true # leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors&#39; for counter compatibility. Article reading statistic https:&#x2F;&#x2F;valine.js.org&#x2F;visitor.html</span><br><span class="line">  comment_count: true # if false, comment count will only be displayed in post page, not in home page</span><br></pre></td></tr></table></figure>

<h3 id="开启CDN加速"><a href="#开启CDN加速" class="headerlink" title="开启CDN加速"></a>开启CDN加速</h3><p>由于GitHub的服务器在国外，所以可能会出现网站访问速度较慢的问题，这里我们采用配置CDN加速的方法来解决这个问题。</p>
<p>首先注册一个<a href="https://www.cloudflare.com/" target="_blank" rel="noopener">Cloudflare</a>账号，然后点击<code>Add site</code>添加你的域名，选择免费的选项，或者也可以选择付费选项，充钱使你变强。</p>
<p>然后点击<code>Scan DNS Records</code>，等待扫描完成。即使没有扫到DNS记录也没有关系，我们可以自己添加，只需要添加如下图所示：</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200710220929.png" alt=""></p>
<p>然后Cloudflare会要求将你的DNS服务器替换成他提供的，我们只需要去域名商哪里设置一下即可。</p>
<p>以阿里云为例，进入控制台，进入域名列表，点击管理，在左侧菜单中点击DNS修改，完成修改。</p>
<p>DNS修改完成后可以点击<code>Recheck Nameservers</code>来复查是否正确设置。</p>
<p>然后过个几分钟，显示<code>Great news! Cloudflare is now protecting your site</code>就说明设置成功。</p>
<h3 id="鼠标点击特效"><a href="#鼠标点击特效" class="headerlink" title="鼠标点击特效"></a>鼠标点击特效</h3><p>在<code>_data</code>目录下新建<code>body-end.swig</code>文件，输入以下代码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;# 鼠标点击特效 #&#125;</span><br><span class="line">&#123;% if theme.cursor_effect &#x3D;&#x3D; &quot;fireworks&quot; %&#125;</span><br><span class="line">  &lt;script async src&#x3D;&quot;&#x2F;js&#x2F;cursor&#x2F;fireworks.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&#123;% elseif theme.cursor_effect &#x3D;&#x3D; &quot;explosion&quot; %&#125;</span><br><span class="line">  &lt;canvas class&#x3D;&quot;fireworks&quot; style&#x3D;&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot; &gt;&lt;&#x2F;canvas&gt;</span><br><span class="line">  &lt;script src&#x3D;&quot;&#x2F;&#x2F;cdn.bootcss.com&#x2F;animejs&#x2F;2.2.0&#x2F;anime.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">  &lt;script async src&#x3D;&quot;&#x2F;js&#x2F;cursor&#x2F;explosion.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&#123;% elseif theme.cursor_effect &#x3D;&#x3D; &quot;love&quot; %&#125;</span><br><span class="line">  &lt;script async src&#x3D;&quot;&#x2F;js&#x2F;cursor&#x2F;love.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&#123;% elseif theme.cursor_effect &#x3D;&#x3D; &quot;text&quot; %&#125;</span><br><span class="line">  &lt;script async src&#x3D;&quot;&#x2F;js&#x2F;cursor&#x2F;text.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>

<p>然后在<code>next.yml</code>中取消<code>body-end.swig</code>的注释。</p>
<p>然后在<code>next.yml</code>中增加如下配置项。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 鼠标点击特效</span><br><span class="line"># mouse click effect: fireworks | explosion | love | text</span><br><span class="line">cursor_effect: fireworks  # 可以在这里切换特效</span><br></pre></td></tr></table></figure>

<p>然后在<code>blog/source</code>目录下新建<code>js</code>文件夹。</p>
<p>讲以下四个<code>js</code>文件放入文件夹中。</p>
<p>礼花特效：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Circle &#123;</span><br><span class="line">  constructor(&#123; origin, speed, color, angle, context &#125;) &#123;</span><br><span class="line">    this.origin &#x3D; origin</span><br><span class="line">    this.position &#x3D; &#123; ...this.origin &#125;</span><br><span class="line">    this.color &#x3D; color</span><br><span class="line">    this.speed &#x3D; speed</span><br><span class="line">    this.angle &#x3D; angle</span><br><span class="line">    this.context &#x3D; context</span><br><span class="line">    this.renderCount &#x3D; 0</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  draw() &#123;</span><br><span class="line">    this.context.fillStyle &#x3D; this.color</span><br><span class="line">    this.context.beginPath()</span><br><span class="line">    this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2)</span><br><span class="line">    this.context.fill()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  move() &#123;</span><br><span class="line">    this.position.x &#x3D; (Math.sin(this.angle) * this.speed) + this.position.x</span><br><span class="line">    this.position.y &#x3D; (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3)</span><br><span class="line">    this.renderCount++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Boom &#123;</span><br><span class="line">  constructor (&#123; origin, context, circleCount &#x3D; 16, area &#125;) &#123;</span><br><span class="line">    this.origin &#x3D; origin</span><br><span class="line">    this.context &#x3D; context</span><br><span class="line">    this.circleCount &#x3D; circleCount</span><br><span class="line">    this.area &#x3D; area</span><br><span class="line">    this.stop &#x3D; false</span><br><span class="line">    this.circles &#x3D; []</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  randomArray(range) &#123;</span><br><span class="line">    const length &#x3D; range.length</span><br><span class="line">    const randomIndex &#x3D; Math.floor(length * Math.random())</span><br><span class="line">    return range[randomIndex]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  randomColor() &#123;</span><br><span class="line">    const range &#x3D; [&#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]</span><br><span class="line">    return &#39;#&#39; + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  randomRange(start, end) &#123;</span><br><span class="line">    return (end - start) * Math.random() + start</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  init() &#123;</span><br><span class="line">    for(let i &#x3D; 0; i &lt; this.circleCount; i++) &#123;</span><br><span class="line">      const circle &#x3D; new Circle(&#123;</span><br><span class="line">        context: this.context,</span><br><span class="line">        origin: this.origin,</span><br><span class="line">        color: this.randomColor(),</span><br><span class="line">        angle: this.randomRange(Math.PI - 1, Math.PI + 1),</span><br><span class="line">        speed: this.randomRange(1, 6)</span><br><span class="line">      &#125;)</span><br><span class="line">      this.circles.push(circle)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  move() &#123;</span><br><span class="line">    this.circles.forEach((circle, index) &#x3D;&gt; &#123;</span><br><span class="line">      if (circle.position.x &gt; this.area.width || circle.position.y &gt; this.area.height) &#123;</span><br><span class="line">        return this.circles.splice(index, 1)</span><br><span class="line">      &#125;</span><br><span class="line">      circle.move()</span><br><span class="line">    &#125;)</span><br><span class="line">    if (this.circles.length &#x3D;&#x3D; 0) &#123;</span><br><span class="line">      this.stop &#x3D; true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  draw() &#123;</span><br><span class="line">    this.circles.forEach(circle &#x3D;&gt; circle.draw())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class CursorSpecialEffects &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this.computerCanvas &#x3D; document.createElement(&#39;canvas&#39;)</span><br><span class="line">    this.renderCanvas &#x3D; document.createElement(&#39;canvas&#39;)</span><br><span class="line"></span><br><span class="line">    this.computerContext &#x3D; this.computerCanvas.getContext(&#39;2d&#39;)</span><br><span class="line">    this.renderContext &#x3D; this.renderCanvas.getContext(&#39;2d&#39;)</span><br><span class="line"></span><br><span class="line">    this.globalWidth &#x3D; window.innerWidth</span><br><span class="line">    this.globalHeight &#x3D; window.innerHeight</span><br><span class="line"></span><br><span class="line">    this.booms &#x3D; []</span><br><span class="line">    this.running &#x3D; false</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleMouseDown(e) &#123;</span><br><span class="line">    const boom &#x3D; new Boom(&#123;</span><br><span class="line">      origin: &#123; x: e.clientX, y: e.clientY &#125;,</span><br><span class="line">      context: this.computerContext,</span><br><span class="line">      area: &#123;</span><br><span class="line">        width: this.globalWidth,</span><br><span class="line">        height: this.globalHeight</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    boom.init()</span><br><span class="line">    this.booms.push(boom)</span><br><span class="line">    this.running || this.run()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handlePageHide() &#123;</span><br><span class="line">    this.booms &#x3D; []</span><br><span class="line">    this.running &#x3D; false</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  init() &#123;</span><br><span class="line">    const style &#x3D; this.renderCanvas.style</span><br><span class="line">    style.position &#x3D; &#39;fixed&#39;</span><br><span class="line">    style.top &#x3D; style.left &#x3D; 0</span><br><span class="line">    style.zIndex &#x3D; &#39;999999999999999999999999999999999999999999&#39;</span><br><span class="line">    style.pointerEvents &#x3D; &#39;none&#39;</span><br><span class="line"></span><br><span class="line">    style.width &#x3D; this.renderCanvas.width &#x3D; this.computerCanvas.width &#x3D; this.globalWidth</span><br><span class="line">    style.height &#x3D; this.renderCanvas.height &#x3D; this.computerCanvas.height &#x3D; this.globalHeight</span><br><span class="line"></span><br><span class="line">    document.body.append(this.renderCanvas)</span><br><span class="line"></span><br><span class="line">    window.addEventListener(&#39;mousedown&#39;, this.handleMouseDown.bind(this))</span><br><span class="line">    window.addEventListener(&#39;pagehide&#39;, this.handlePageHide.bind(this))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    this.running &#x3D; true</span><br><span class="line">    if (this.booms.length &#x3D;&#x3D; 0) &#123;</span><br><span class="line">      return this.running &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    requestAnimationFrame(this.run.bind(this))</span><br><span class="line"></span><br><span class="line">    this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight)</span><br><span class="line">    this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight)</span><br><span class="line"></span><br><span class="line">    this.booms.forEach((boom, index) &#x3D;&gt; &#123;</span><br><span class="line">      if (boom.stop) &#123;</span><br><span class="line">        return this.booms.splice(index, 1)</span><br><span class="line">      &#125;</span><br><span class="line">      boom.move()</span><br><span class="line">      boom.draw()</span><br><span class="line">    &#125;)</span><br><span class="line">    this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const cursorSpecialEffects &#x3D; new CursorSpecialEffects()</span><br><span class="line">cursorSpecialEffects.init()</span><br></pre></td></tr></table></figure>

<p>爆炸特效：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;use strict&quot;;function updateCoords(e)&#123;pointerX&#x3D;(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY&#x3D;e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top&#125;function setParticuleDirection(e)&#123;var t&#x3D;anime.random(0,360)*Math.PI&#x2F;180,a&#x3D;anime.random(50,180),n&#x3D;[-1,1][anime.random(0,1)]*a;return&#123;x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)&#125;&#125;function createParticule(e,t)&#123;var a&#x3D;&#123;&#125;;return a.x&#x3D;e,a.y&#x3D;t,a.color&#x3D;colors[anime.random(0,colors.length-1)],a.radius&#x3D;anime.random(16,32),a.endPos&#x3D;setParticuleDirection(a),a.draw&#x3D;function()&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle&#x3D;a.color,ctx.fill()&#125;,a&#125;function createCircle(e,t)&#123;var a&#x3D;&#123;&#125;;return a.x&#x3D;e,a.y&#x3D;t,a.color&#x3D;&quot;#F00&quot;,a.radius&#x3D;.1,a.alpha&#x3D;.5,a.lineWidth&#x3D;6,a.draw&#x3D;function()&#123;ctx.globalAlpha&#x3D;a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth&#x3D;a.lineWidth,ctx.strokeStyle&#x3D;a.color,ctx.stroke(),ctx.globalAlpha&#x3D;1&#125;,a&#125;function renderParticule(e)&#123;for(var t&#x3D;0;t&lt;e.animatables.length;t++)e.animatables[t].target.draw()&#125;function animateParticules(e,t)&#123;for(var a&#x3D;createCircle(e,t),n&#x3D;[],i&#x3D;0;i&lt;numberOfParticules;i++)n.push(createParticule(e,t));anime.timeline().add(&#123;targets:n,x:function(e)&#123;return e.endPos.x&#125;,y:function(e)&#123;return e.endPos.y&#125;,radius:.1,duration:anime.random(1200,1800),easing:&quot;easeOutExpo&quot;,update:renderParticule&#125;).add(&#123;targets:a,radius:anime.random(80,160),lineWidth:0,alpha:&#123;value:0,easing:&quot;linear&quot;,duration:anime.random(600,800)&#125;,duration:anime.random(1200,1800),easing:&quot;easeOutExpo&quot;,update:renderParticule,offset:0&#125;)&#125;function debounce(e,t)&#123;var a;return function()&#123;var n&#x3D;this,i&#x3D;arguments;clearTimeout(a),a&#x3D;setTimeout(function()&#123;e.apply(n,i)&#125;,t)&#125;&#125;var canvasEl&#x3D;document.querySelector(&quot;.fireworks&quot;);if(canvasEl)&#123;var ctx&#x3D;canvasEl.getContext(&quot;2d&quot;),numberOfParticules&#x3D;30,pointerX&#x3D;0,pointerY&#x3D;0,tap&#x3D;&quot;mousedown&quot;,colors&#x3D;[&quot;#FF1461&quot;,&quot;#18FF92&quot;,&quot;#5A87FF&quot;,&quot;#FBF38C&quot;],setCanvasSize&#x3D;debounce(function()&#123;canvasEl.width&#x3D;2*window.innerWidth,canvasEl.height&#x3D;2*window.innerHeight,canvasEl.style.width&#x3D;window.innerWidth+&quot;px&quot;,canvasEl.style.height&#x3D;window.innerHeight+&quot;px&quot;,canvasEl.getContext(&quot;2d&quot;).scale(2,2)&#125;,500),render&#x3D;anime(&#123;duration:1&#x2F;0,update:function()&#123;ctx.clearRect(0,0,canvasEl.width,canvasEl.height)&#125;&#125;);document.addEventListener(tap,function(e)&#123;&quot;sidebar&quot;!&#x3D;&#x3D;e.target.id&amp;&amp;&quot;toggle-sidebar&quot;!&#x3D;&#x3D;e.target.id&amp;&amp;&quot;A&quot;!&#x3D;&#x3D;e.target.nodeName&amp;&amp;&quot;IMG&quot;!&#x3D;&#x3D;e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!1),setCanvasSize(),window.addEventListener(&quot;resize&quot;,setCanvasSize,!1)&#125;</span><br></pre></td></tr></table></figure>

<p>浮出爱心特效：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">!function(e,t,a)&#123;function n()&#123;c(&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#39;&#39;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;),o(),r()&#125;function r()&#123;for(var e&#x3D;0;e&lt;d.length;e++)d[e].alpha&lt;&#x3D;0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+&#x3D;.004,d[e].alpha-&#x3D;.013,d[e].el.style.cssText&#x3D;&quot;left:&quot;+d[e].x+&quot;px;top:&quot;+d[e].y+&quot;px;opacity:&quot;+d[e].alpha+&quot;;transform:scale(&quot;+d[e].scale+&quot;,&quot;+d[e].scale+&quot;) rotate(45deg);background:&quot;+d[e].color+&quot;;z-index:99999&quot;);requestAnimationFrame(r)&#125;function o()&#123;var t&#x3D;&quot;function&quot;&#x3D;&#x3D;typeof e.onclick&amp;&amp;e.onclick;e.onclick&#x3D;function(e)&#123;t&amp;&amp;t(),i(e)&#125;&#125;function i(e)&#123;var a&#x3D;t.createElement(&quot;div&quot;);a.className&#x3D;&quot;heart&quot;,d.push(&#123;el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()&#125;),t.body.appendChild(a)&#125;function c(e)&#123;var a&#x3D;t.createElement(&quot;style&quot;);a.type&#x3D;&quot;text&#x2F;css&quot;;try&#123;a.appendChild(t.createTextNode(e))&#125;catch(t)&#123;a.styleSheet.cssText&#x3D;e&#125;t.getElementsByTagName(&quot;head&quot;)[0].appendChild(a)&#125;function s()&#123;return&quot;rgb(&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;)&quot;&#125;var d&#x3D;[];e.requestAnimationFrame&#x3D;function()&#123;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e)&#123;setTimeout(e,1e3&#x2F;60)&#125;&#125;(),n()&#125;(window,document);</span><br></pre></td></tr></table></figure>

<p>浮出文字特效：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var a_idx &#x3D; 0;</span><br><span class="line">jQuery(document).ready(function($) &#123;</span><br><span class="line">  $(&quot;body&quot;).click(function(e) &#123;</span><br><span class="line">    var a &#x3D; new Array(&quot;喜欢我&quot;, &quot;不喜欢我&quot;);</span><br><span class="line">    var $i &#x3D; $(&quot;&lt;span&#x2F;&gt;&quot;).text(a[a_idx]);</span><br><span class="line">    var x &#x3D; e.pageX,</span><br><span class="line">    y &#x3D; e.pageY;</span><br><span class="line">    $i.css(&#123;</span><br><span class="line">      &quot;z-index&quot;: 99999,</span><br><span class="line">      &quot;top&quot;: y - 28,</span><br><span class="line">      &quot;left&quot;: x - a[a_idx].length * 8,</span><br><span class="line">      &quot;position&quot;: &quot;absolute&quot;,</span><br><span class="line">      &quot;color&quot;: &quot;#ff7a45&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">    $(&quot;body&quot;).append($i);</span><br><span class="line">    $i.animate(&#123;</span><br><span class="line">      &quot;top&quot;: y - 180,</span><br><span class="line">      &quot;opacity&quot;: 0</span><br><span class="line">    &#125;, 1500, function() &#123;</span><br><span class="line">      $i.remove();</span><br><span class="line">    &#125;);</span><br><span class="line">    a_idx &#x3D; (a_idx + 1) % a.length;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
  </entry>
  <entry>
    <title>关于Hexo推送异常的解决办法</title>
    <url>/2020/07/10/%E5%85%B3%E4%BA%8EHexo%E6%8E%A8%E9%80%81%E5%BC%82%E5%B8%B8%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<p>bug描述：博客本地预览正常，线上查看出现样式错误和样式缺失</p>
<p>解决办法：清楚浏览器缓存，<code>shift + F5</code>强制刷新即可</p>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
  </entry>
  <entry>
    <title>GitHub+picgo 设置免费图床</title>
    <url>/2020/07/10/GitHub-picgo-%E8%AE%BE%E7%BD%AE%E5%85%8D%E8%B4%B9%E5%9B%BE%E5%BA%8A/</url>
    <content><![CDATA[<p>如果博客中含大量图片，使用图床会明显提高加载速度。</p>
<p>这里采用GitHub+picgo的方法将GitHub作为一个免费图床，毕竟，谁不喜欢白嫖呢？</p>
<a id="more"></a>

<p>首先在GitHub中创建一个新的仓库，可以取名为images或者其他，仓库类型需要为<code>public</code>。</p>
<p>点击头像选择<code>settings</code>，然后选择<code>Developer settings</code></p>
<p>选择<code>Personal acess tokens</code>，生成一个新的token。</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200710223446.png" alt=""></p>
<p>填写备注，勾选repo即可，提交后会生成一个新的token，记得保存下来，只会显示一次，后面配置Picgo要用到。</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200710223846.png" alt=""></p>
<p>然后下载并安装<a href="https://github.com/Molunerfinn/picgo/releases" target="_blank" rel="noopener">PicGo</a>，安装后运行界面如下：</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200710224031.png" alt=""></p>
<p>然后点击图床设置，填写相应信息。</p>
<p><img src="https://raw.githubusercontent.com/fuwuqiru/image/master/images/2020_0720200710224143.png" alt=""></p>
<p>设置完成，这样将图片直接上传后相应<code>url</code>就会直接生成在剪切板中，直接复制即可。</p>
]]></content>
      <categories>
        <category>HEXO</category>
      </categories>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/07/05/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<a id="more"></a>

<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
